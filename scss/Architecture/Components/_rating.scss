// ===========================================================================
// Components - Rating
// TS: Theme Support
// https://yoksel.github.io/url-encoder/
// https://base64.guru/converter/encode/image/svg
// ===========================================================================

@import "../_theme-colors";

//$svg-Heart: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-1 0 52 50'%3E%3Cg %3E%3Cpath d='M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543 c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503 c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z'/%3E%3C/g%3E%3C/svg%3E%0A");
//$svg-Star: url("data:image/svg+xml, %3Csvg viewBox='0 0 190 190' xmlns='http://www.w3.org/2000/svg'%3E%3Cpolygon points='100,10 40,180 190,60 10,60 160,180' /%3E%3C/svg%3E%0A");
$svg-Heart: url("data:image/svg+xml;base64,IDxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PSctMSAwIDUyIDUwJz48ZyA+PHBhdGggZD0nTTI0Ljg1LDEwLjEyNmMyLjAxOC00Ljc4Myw2LjYyOC04LjEyNSwxMS45OS04LjEyNWM3LjIyMywwLDEyLjQyNSw2LjE3OSwxMy4wNzksMTMuNTQzIGMwLDAsMC4zNTMsMS44MjgtMC40MjQsNS4xMTljLTEuMDU4LDQuNDgyLTMuNTQ1LDguNDY0LTYuODk4LDExLjUwM0wyNC44NSw0OEw3LjQwMiwzMi4xNjVjLTMuMzUzLTMuMDM4LTUuODQtNy4wMjEtNi44OTgtMTEuNTAzIGMtMC43NzctMy4yOTEtMC40MjQtNS4xMTktMC40MjQtNS4xMTlDMC43MzQsOC4xNzksNS45MzYsMiwxMy4xNTksMkMxOC41MjIsMiwyMi44MzIsNS4zNDMsMjQuODUsMTAuMTI2eicvPjwvZz48L3N2Zz4K");
$svg-Star: url("data:image/svg+xml;base64,IDxzdmcgdmlld0JveD0nMCAwIDE5MCAxOTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBvbHlnb24gcG9pbnRzPScxMDAsMTAgNDAsMTgwIDE5MCw2MCAxMCw2MCAxNjAsMTgwJyAvPjwvc3ZnPgo=");

$bg-Star: #dbab09;
$bg-Heart: hsl(354, 66%, 54%);

.Rating {
  display: flex;
  position: relative;
  overflow: visible;
  cursor: pointer;

  font-family: var(--ls-font);
  font-size: var(--ls-font-size);
  font-weight: var(--ls-font-weight);

  .Square {
    border: none;
    background: transparent;

    $bg-color: var(--rating-bg-color);
    $color: var(--rating-color);

    .Square-inner:not(.Rating-value) {
      color: $fg-Light;
      background-color: $bg-Light;

      &.IsFraction {
        background: linear-gradient(to right, $bg-color 0%, $bg-Lightest 100%);
        border-image: linear-gradient(to right, $bg-color 0%, $bg-Lightest 100%) 1;
        color: $color;
      }

      &.IsSelected, &.IsHovered {
        border-color: $bg-color;
        background: $bg-color;
        color: $color;

        &.IsFraction {
          background: linear-gradient(to right, $bg-color 0%, $bg-Lightest 100%);
          border-image: linear-gradient(to right, $bg-color 0%, $bg-Lightest 100%) 1;
          color: $color;
        }
      }
    }
  }
}

.Rating-star {
  --rating-mask: #{$svg-Star};
  --rating-bg-color: #{$bg-Star};
  --rating-color: #{$fg-Darkest};
}

.Rating-heart {
  --rating-mask: #{$svg-Heart};
  --rating-bg-color: #{$bg-Heart};
  --rating-color: #{$fg-Darkest};
}

.Rating-text {
  --rating-bg-color: #{$bg-Active};
  --rating-color: #{$fg-Active};

  .Square {
    .Square-inner:not(.Rating-value) {
      margin: 1px;
      border: 4px solid $bg-Lightest;
      //border: 4px solid $Border-color;

      //background-color: white;
      color: $fg-Light;
      background-color: $bg-Light;
    }
  }
}

// TODO: Rating-mask
.Rating-mask {
  .Square {
    filter: drop-shadow(0 3px 1px rgba(0, 0, 0, 0.2));

    .Square-inner:not(.Rating-value) {
      //@extend .Svg-mask !optional;
      display: flex;

      mask: var(--svg-icon);
      mask-repeat: no-repeat;
      mask-position: center;
      mask-size: contain;

      mask-clip: inherit;
    }
  }
}

.Rating-star, .Rating-heart {
  .Square {
    margin: 0;
    filter: drop-shadow(0 3px 1px rgba(0, 0, 0, 0.2));

    .Square-inner:not(.Rating-value) {
      mask: var(--rating-mask) center no-repeat;
      mask-size: auto;
    }
  }
}
